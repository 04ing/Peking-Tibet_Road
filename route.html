<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>古道路线复原与重建 - 京藏古道人文环境时空信息开放平台</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- 高德地图API -->
    <script src="https://webapi.amap.com/maps?v=2.0&key=fe4e50125495ae9967861058e720c5dd"></script>
</head>
<body>
    <!-- 顶部导航栏 -->
    <header>
        <div class="container">
            <div class="logo">
                <h1>京藏古道人文环境时空信息开放平台</h1>
                <p>元代北京至西藏的驿路文明</p>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">首页</a></li>
                    <li><a href="index.html#explore" class="active">古道探索</a></li>
                    <li><a href="index.html#map">地图展示</a></li>
                    <li><a href="index.html#dataset">数据集</a></li>
                    <li><a href="index.html#about">关于平台</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- 页面标题 -->
    <section class="page-header">
        <div class="container">
            <h1>古道路线复原与重建</h1>
            <p>基于历史文献、考古资料和现代地理信息，重现元代京藏古道的路线网络</p>
        </div>
    </section>

    <!-- 路线复原方法 -->
    <section class="route-method">
        <div class="container">
            <h2>路线复原方法</h2>
            <div class="method-content">
                <div class="method-item">
                    <div class="method-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <h3>历史文献分析</h3>
                    <p>系统梳理《元史》、《经世大典》、《永乐大典》等历史文献中关于京藏古道的记载，提取路线走向、驿站设置、行程距离等关键信息。</p>
                </div>
                <div class="method-item">
                    <div class="method-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>考古资料整合</h3>
                    <p>收集沿线考古发现的驿站遗址、碑刻、文物等资料，结合实地调查，验证和修正文献记载的路线信息。</p>
                </div>
                <div class="method-item">
                    <div class="method-icon">
                        <i class="fas fa-map-marked-alt"></i>
                    </div>
                    <h3>地理信息系统</h3>
                    <p>利用现代GIS技术，结合地形、地貌、水系等自然地理要素，对历史路线进行空间定位和可视化展示。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 主要路线 -->
    <section class="main-routes">
        <div class="container">
            <h2>主要路线</h2>
            <div class="route-map" style="height: 600px; margin-bottom: 30px;">
                <div id="amap-container" style="width: 100%; height: 100%;"></div>
            </div>
            <div class="route-details">
                <div class="route-section">
                    <h3>北京至大同段</h3>
                    <p>起点为元代大都（今北京），经居庸关、宣德府（今宣化）至大同，全长约500公里，是京藏古道的东端起点段。</p>
                    <div class="route-stations">
                        <h4>主要驿站：</h4>
                        <ul>
                            <li>大都（今北京）</li>
                            <li>居庸关</li>
                            <li>宣德府（今宣化）</li>
                            <li>大同</li>
                        </ul>
                    </div>
                </div>
                <div class="route-section">
                    <h3>大同至兰州段</h3>
                    <p>从大同西行，经朔州、代州、太原、汾州、平阳、河中府、同州、华州、京兆府（今西安）、凤翔、秦州至兰州，全长约1500公里。</p>
                    <div class="route-stations">
                        <h4>主要驿站：</h4>
                        <ul>
                            <li>大同</li>
                            <li>太原</li>
                            <li>京兆府（今西安）</li>
                            <li>兰州</li>
                        </ul>
                    </div>
                </div>
                <div class="route-section">
                    <h3>兰州至西宁段</h3>
                    <p>从兰州沿黄河西行，经永登、庄浪至西宁，全长约300公里，是进入青藏高原的过渡段。</p>
                    <div class="route-stations">
                        <h4>主要驿站：</h4>
                        <ul>
                            <li>兰州</li>
                            <li>永登</li>
                            <li>西宁</li>
                        </ul>
                    </div>
                </div>
                <div class="route-section">
                    <h3>西宁至拉萨段</h3>
                    <p>从西宁西南行，经湟源、多巴、日月山、倒淌河、恰卜恰、共和、兴海、玛多、玉树、昌都、工布江达至拉萨，全长约2000公里，是京藏古道的核心段。</p>
                    <div class="route-stations">
                        <h4>主要驿站：</h4>
                        <ul>
                            <li>西宁</li>
                            <li>玉树</li>
                            <li>昌都</li>
                            <li>拉萨</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 支线网络 -->
    <section class="branch-routes">
        <div class="container">
            <h2>支线网络</h2>
            <p>除主线外，京藏古道还有多条重要支线，构成了完整的交通网络：</p>
            <div class="branch-grid">
                <div class="branch-item">
                    <h3>大同至张家口支线</h3>
                    <p>连接大同与张家口，是京藏古道与北方草原丝路的交汇点。</p>
                </div>
                <div class="branch-item">
                    <h3>西宁至河西走廊支线</h3>
                    <p>连接西宁与河西走廊，是京藏古道与丝绸之路的连接通道。</p>
                </div>
                <div class="branch-item">
                    <h3>玉树至康定支线</h3>
                    <p>连接玉树与康定，是京藏古道与川藏道的连接通道。</p>
                </div>
                <div class="branch-item">
                    <h3>拉萨至日喀则支线</h3>
                    <p>连接拉萨与日喀则，是京藏古道向西藏南部延伸的重要支线。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 重要节点 -->
    <section class="key-nodes">
        <div class="container">
            <h2>重要节点</h2>
            <div class="nodes-grid">
                <div class="node-item">
                    <h3>居庸关</h3>
                    <p>位于北京西北，是京藏古道出京的第一重要关口，素有"天下第一雄关"之称。</p>
                </div>
                <div class="node-item">
                    <h3>大同</h3>
                    <p>元代称为大同路，是京藏古道的重要枢纽，连接中原与草原。</p>
                </div>
                <div class="node-item">
                    <h3>兰州</h3>
                    <p>元代称为兰州路，是京藏古道进入西北地区的重要节点。</p>
                </div>
                <div class="node-item">
                    <h3>西宁</h3>
                    <p>元代称为西宁州，是京藏古道进入青藏高原的门户。</p>
                </div>
                <div class="node-item">
                    <h3>玉树</h3>
                    <p>元代称为朵甘思，是京藏古道在青藏高原的重要驿站。</p>
                </div>
                <div class="node-item">
                    <h3>拉萨</h3>
                    <p>元代称为萨斯迦，是京藏古道的终点，西藏地区的政治、宗教中心。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 复原成果 -->
    <section class="route-results">
        <div class="container">
            <h2>复原成果</h2>
            <div class="results-content">
                <div class="result-item">
                    <h3>路线地图</h3>
                    <p>基于历史文献和考古资料，复原了元代京藏古道的完整路线图，包括主线和支线，共计约4300公里。</p>
                </div>
                <div class="result-item">
                    <h3>驿站体系</h3>
                    <p>复原了沿线100余个驿站的位置和功能，构建了完整的驿站体系数据库。</p>
                </div>
                <div class="result-item">
                    <h3>行程指南</h3>
                    <p>根据历史文献记载，复原了从北京至拉萨的详细行程，包括每日行程距离、宿营地和重要景观。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 参考文献 -->
    <section class="references">
        <div class="container">
            <h2>参考文献</h2>
            <ul>
                <li>《元史》，中华书局，1976年</li>
                <li>《经世大典》辑本，中华书局，1992年</li>
                <li>《永乐大典》残卷，中华书局，1986年</li>
                <li>陈得芝：《元代交通史》，人民交通出版社，2003年</li>
                <li>王颋：《元代驿站制度研究》，上海古籍出版社，2005年</li>
                <li>西藏自治区交通厅：《西藏古近代交通史》，人民交通出版社，1994年</li>
            </ul>
        </div>
    </section>

    <!-- 页脚 -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <h3>京藏古道人文环境时空信息开放平台</h3>
                    <p>元代北京至西藏的驿路文明</p>
                </div>
                <div class="footer-links">
                    <h4>快速链接</h4>
                    <ul>
                        <li><a href="index.html">首页</a></li>
                        <li><a href="index.html#explore">古道探索</a></li>
                        <li><a href="index.html#map">地图展示</a></li>
                        <li><a href="index.html#dataset">数据集</a></li>
                        <li><a href="index.html#about">关于平台</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h4>联系方式</h4>
                    <p>邮箱：contact@jzgd-platform.org</p>
                    <p>电话：010-12345678</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 京藏古道人文环境时空信息开放平台 版权所有</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        // 初始化高德地图
        var map = new AMap.Map('amap-container', {
            center: [103.834303, 36.061101], // 兰州附近作为中心点
            zoom: 5,
            mapStyle: 'amap://styles/whitesmoke'
        });
        
        // 从JSON文件加载路线数据
        fetch('json/route-data.json')
            .then(response => response.json())
            .then(data => {
                console.log('路线数据加载成功:', data);
                
                // 获取数据
                const nodes = data.nodes;
                const mainRoute = data.mainRoute;
                const branchRoutes = data.branchRoutes;
                
                // 绘制主要路线
                var mainPolyline = new AMap.Polyline({
                    path: mainRoute,
                    strokeColor: '#1890ff',
                    strokeWeight: 6,
                    strokeOpacity: 0.8,
                    strokeStyle: 'solid'
                });
                mainPolyline.setMap(map);
                
                // 绘制支线
                branchRoutes.forEach(function(branch) {
                    var polyline = new AMap.Polyline({
                        path: branch.path,
                        strokeColor: '#52c41a',
                        strokeWeight: 4,
                        strokeOpacity: 0.6,
                        strokeStyle: 'dashed'
                    });
                    polyline.setMap(map);
                });
                
                // 添加节点标记
                nodes.forEach(function(node) {
                    var marker = new AMap.Marker({
                        position: [node.lng, node.lat],
                        title: node.name,
                        icon: new AMap.Icon({
                            size: new AMap.Size(30, 30),
                            image: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',
                            imageSize: new AMap.Size(30, 30)
                        })
                    });
                    
                    // 信息窗口
                    var infoWindow = new AMap.InfoWindow({
                        content: '<h3>' + node.name + '</h3><p>' + node.desc + '</p>',
                        offset: new AMap.Pixel(0, -30)
                    });
                    
                    // 点击标记打开信息窗口
                    marker.on('click', function() {
                        infoWindow.open(map, marker.getPosition());
                    });
                    
                    marker.setMap(map);
                });
                
                // 添加控件
                map.addControl(new AMap.ToolBar({
                    position: 'RB'
                }));
                
                map.addControl(new AMap.Scale({
                    position: 'RB'
                }));
            })
            .catch(error => {
                console.error('加载路线数据失败:', error);
                // 显示错误信息
                document.getElementById('amap-container').innerHTML = 
                    '<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #666;">数据加载失败，请刷新页面重试</div>';
            });
    </script>
</body>
</html>